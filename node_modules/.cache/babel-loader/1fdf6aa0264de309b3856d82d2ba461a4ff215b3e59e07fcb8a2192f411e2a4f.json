{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/Abdu/OneDrive/Desktop/React/my-ecommerce/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import React,{useEffect,useState}from'react';import styled from'styled-components';import ProductItem from'./ProductItem';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";const Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  padding: 10px;\\n  display: flex;\\n  flex-wrap: wrap;\\n  justify-content: space-around;\\n  background-color: #f5fefd;\\n\"])));const Products=_ref=>{let{cat,filters,sort}=_ref;const[products,setProducts]=useState([]);const[filteredProducts,setFilteredProducts]=useState([]);useEffect(()=>{const getProducts=async()=>{try{const res=await axios.get(cat?\"https://retail-api.onrender.com/api/products?category=\".concat(cat):\"https://retail-api.onrender.com/api/products\");setProducts(res.data);}catch(err){}};getProducts();},[cat]);useEffect(()=>{cat?setFilteredProducts(products.filter(item=>Object.entries(filters).every(_ref2=>{let[key,value]=_ref2;return item[key].includes(value);}))):setFilteredProducts(products);},[products,cat,filters]);useEffect(()=>{if(sort===\"newest\"){setFilteredProducts(prev=>[...prev].sort((a,b)=>a.createdAt-b.createdAt));}else if(sort===\"asc\"){setFilteredProducts(prev=>[...prev].sort((a,b)=>a.price-b.price));}else{setFilteredProducts(prev=>[...prev].sort((a,b)=>b.price-a.price));}},[sort]);return/*#__PURE__*/_jsx(Container,{children:filteredProducts.map(item=>/*#__PURE__*/_jsx(ProductItem,{item:item},item.id))});};export default Products;","map":{"version":3,"names":["React","useEffect","useState","styled","ProductItem","axios","jsx","_jsx","Container","div","_templateObject","_taggedTemplateLiteral","Products","_ref","cat","filters","sort","products","setProducts","filteredProducts","setFilteredProducts","getProducts","res","get","concat","data","err","filter","item","Object","entries","every","_ref2","key","value","includes","prev","a","b","createdAt","price","children","map","id"],"sources":["C:/Users/Abdu/OneDrive/Desktop/React/my-ecommerce/src/components/Products.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport ProductItem from './ProductItem'\r\nimport axios from 'axios';\r\n\r\nconst Container = styled.div`\r\n  padding: 10px;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: space-around;\r\n  background-color: #f5fefd;\r\n`\r\nconst Products = ({cat,filters,sort}) => {\r\n  const [products,setProducts] = useState([]);\r\n  const [filteredProducts,setFilteredProducts] = useState([]);\r\n  useEffect(()=>{\r\n     const getProducts = async ()=>{\r\n      try{\r\n        const res = await axios.get(cat ? `https://retail-api.onrender.com/api/products?category=${cat}` : \"https://retail-api.onrender.com/api/products\");\r\n        setProducts(res.data);\r\n        \r\n      }catch(err){\r\n\r\n      }\r\n     }\r\n     getProducts();\r\n  },[cat]);\r\n  \r\n  useEffect(()=>{\r\n    cat ?\r\n    setFilteredProducts(\r\n      products.filter((item)=> Object.entries(filters).every(([key,value])=> item[key].includes(value)))\r\n    ): setFilteredProducts(products);\r\n\r\n  },[products,cat,filters]);\r\n\r\n  useEffect(()=>{\r\n     if(sort===\"newest\"){\r\n      setFilteredProducts(prev=>[...prev].sort(\r\n        (a,b)=> a.createdAt - b.createdAt\r\n      ));\r\n     }else if(sort===\"asc\"){\r\n      setFilteredProducts(prev=>[...prev].sort(\r\n        (a,b)=> a.price - b.price\r\n      ));\r\n     }else{\r\n      setFilteredProducts(prev=>[...prev].sort(\r\n        (a,b)=> b.price - a.price\r\n      ));\r\n     }\r\n  },[sort]);\r\n  return (\r\n    <Container>\r\n     {\r\n      filteredProducts.map(\r\n        item=>(<ProductItem item={item} key={item.id}/>)\r\n      )\r\n     }\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Products\r\n"],"mappings":"2KAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CACtC,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE1B,KAAM,CAAAC,SAAS,CAAGL,MAAM,CAACM,GAAG,CAAAC,eAAA,GAAAA,eAAA,CAAAC,sBAAA,kIAM3B,CACD,KAAM,CAAAC,QAAQ,CAAGC,IAAA,EAAwB,IAAvB,CAACC,GAAG,CAACC,OAAO,CAACC,IAAI,CAAC,CAAAH,IAAA,CAClC,KAAM,CAACI,QAAQ,CAACC,WAAW,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAC3C,KAAM,CAACiB,gBAAgB,CAACC,mBAAmB,CAAC,CAAGlB,QAAQ,CAAC,EAAE,CAAC,CAC3DD,SAAS,CAAC,IAAI,CACX,KAAM,CAAAoB,WAAW,CAAG,KAAAA,CAAA,GAAU,CAC7B,GAAG,CACD,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAjB,KAAK,CAACkB,GAAG,CAACT,GAAG,0DAAAU,MAAA,CAA4DV,GAAG,EAAK,8CAA8C,CAAC,CAClJI,WAAW,CAACI,GAAG,CAACG,IAAI,CAAC,CAEvB,CAAC,MAAMC,GAAG,CAAC,CAEX,CACD,CAAC,CACDL,WAAW,CAAC,CAAC,CAChB,CAAC,CAAC,CAACP,GAAG,CAAC,CAAC,CAERb,SAAS,CAAC,IAAI,CACZa,GAAG,CACHM,mBAAmB,CACjBH,QAAQ,CAACU,MAAM,CAAEC,IAAI,EAAIC,MAAM,CAACC,OAAO,CAACf,OAAO,CAAC,CAACgB,KAAK,CAACC,KAAA,MAAC,CAACC,GAAG,CAACC,KAAK,CAAC,CAAAF,KAAA,OAAI,CAAAJ,IAAI,CAACK,GAAG,CAAC,CAACE,QAAQ,CAACD,KAAK,CAAC,GAAC,CACnG,CAAC,CAAEd,mBAAmB,CAACH,QAAQ,CAAC,CAElC,CAAC,CAAC,CAACA,QAAQ,CAACH,GAAG,CAACC,OAAO,CAAC,CAAC,CAEzBd,SAAS,CAAC,IAAI,CACX,GAAGe,IAAI,GAAG,QAAQ,CAAC,CAClBI,mBAAmB,CAACgB,IAAI,EAAE,CAAC,GAAGA,IAAI,CAAC,CAACpB,IAAI,CACtC,CAACqB,CAAC,CAACC,CAAC,GAAID,CAAC,CAACE,SAAS,CAAGD,CAAC,CAACC,SAC1B,CAAC,CAAC,CACH,CAAC,IAAK,IAAGvB,IAAI,GAAG,KAAK,CAAC,CACrBI,mBAAmB,CAACgB,IAAI,EAAE,CAAC,GAAGA,IAAI,CAAC,CAACpB,IAAI,CACtC,CAACqB,CAAC,CAACC,CAAC,GAAID,CAAC,CAACG,KAAK,CAAGF,CAAC,CAACE,KACtB,CAAC,CAAC,CACH,CAAC,IAAI,CACJpB,mBAAmB,CAACgB,IAAI,EAAE,CAAC,GAAGA,IAAI,CAAC,CAACpB,IAAI,CACtC,CAACqB,CAAC,CAACC,CAAC,GAAIA,CAAC,CAACE,KAAK,CAAGH,CAAC,CAACG,KACtB,CAAC,CAAC,CACH,CACH,CAAC,CAAC,CAACxB,IAAI,CAAC,CAAC,CACT,mBACET,IAAA,CAACC,SAAS,EAAAiC,QAAA,CAERtB,gBAAgB,CAACuB,GAAG,CAClBd,IAAI,eAAGrB,IAAA,CAACH,WAAW,EAACwB,IAAI,CAAEA,IAAK,EAAMA,IAAI,CAACe,EAAI,CAChD,CAAC,CAEQ,CAAC,CAEhB,CAAC,CAED,cAAe,CAAA/B,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}